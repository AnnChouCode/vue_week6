import{I as i,J as t}from"./index-2azq9IEN.js";import{s as c}from"./sweetalert2.all-F1nW8cVa.js";var u={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const m=i("adminLogin",{actions:{checkLogin(){var o;console.log("loginStore 的 checkLogin 啟動");const{VITE_API:s}=u,n=`${s}/api/user/check`,r=(o=document.cookie.split("; ").find(e=>e.startsWith("user=")))==null?void 0:o.split("=")[1];return t.defaults.headers.common.Authorization=r,console.log("adminLogin token get"),t.post(n).then(function(e){return e}).catch(e=>{c.fire({icon:"error",text:e.response.data.message}).then(a=>{this.$router.push("/home")})})},logout(){document.cookie="user=;expires=;",this.$router.push("/home")}}});export{m as u};
