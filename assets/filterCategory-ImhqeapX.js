import{_ as g,o,c as i,a,j as d,k as u,F as _,g as p,t as h,i as f,x as m}from"./index-0yh6XsaO.js";const v={props:["pagination"],methods:{getProductList(r){this.$emit("getProductList",r)}}},y={"aria-label":"Page navigation",class:"d-flex justify-content-end"},C={class:"pagination"},L=a("span",{"aria-hidden":"true"},"«",-1),k=[L],P=["onClick"],x=a("span",{"aria-hidden":"true"},"»",-1),$=[x];function E(r,e,s,l,n,c){return o(),i("nav",y,[a("ul",C,[a("li",{class:d(["page-item",{disabled:!s.pagination.has_pre}])},[a("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=u(t=>c.getProductList(s.pagination.current_page-1),["prevent"]))},k)],2),(o(!0),i(_,null,p(s.pagination.total_pages,t=>(o(),i("li",{class:d(["page-item",{active:t===s.pagination.current_page}]),key:t},[a("a",{href:"#",class:"page-link",onClick:u(B=>c.getProductList(t),["prevent"])},h(t),9,P)],2))),128)),a("li",{class:d(["page-item",{disabled:!s.pagination.has_next}])},[a("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=u(t=>c.getProductList(s.pagination.current_page+1),["prevent"]))},$)],2)])])}const R=g(v,[["render",E]]);var V={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:b,VITE_PATH:w}=V,I={data(){return{categoryList:[],currentCategory:""}},watch:{currentCategory(){this.$emit("getProductList",1,this.currentCategory)}},methods:{getCategoryList(){const r=`${b}/api/${w}/products/all`;this.axios.get(r).then(e=>{const s=e.data.products,l=new Set(s.map(n=>n.category));this.categoryList=[...l]}).catch(e=>this.$swal.fire({icon:"error",text:e.response.data.message}))}},mounted(){this.getCategoryList()}},S=a("label",{for:"category",class:"me-3"},"產品分類篩選",-1),T=a("option",{value:""},"全部",-1),A=["value"];function D(r,e,s,l,n,c){return o(),i("div",null,[S,f(a("select",{name:"category",id:"category","onUpdate:modelValue":e[0]||(e[0]=t=>n.currentCategory=t)},[T,(o(!0),i(_,null,p(n.categoryList,t=>(o(),i("option",{value:t,key:t},h(t),9,A))),128))],512),[[m,n.currentCategory]])])}const j=g(I,[["render",D]]);export{j as f,R as p};
