import{I as St,J as Ct,V as P,W as Nt,_ as wt,o as U,c as F,X as xt,Y as Ot,b as kt,a as u,Q as Mt,F as X,r as ut,f as Pt,t as dt,L as Y,R as W,d as Lt}from"./index-68tzqQf9.js";import{s as Rt}from"./sweetalert2.all-tm0Bq818.js";var Vt={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:$t,VITE_PATH:Ut}=Vt,Tt=St("adminProducts",{state:()=>({allProducts:[],categoryList:[]}),actions:{getAllProducts(){const b=`${$t}/api/${Ut}/admin/products/all`;return Ct.get(b).then(f=>(this.allProducts=f.data.products,this.getCategoryList(),console.log("productStore 拿到產品資料了"),f)).catch(f=>{Rt.fire({icon:"error",text:f.response.data.message})})},getCategoryList(){const b=Object.values(this.allProducts),f=new Set(b.map(s=>s.category));this.categoryList=[...f]}}});var Dt={exports:{}},Z={exports:{}},tt={exports:{}};/*!
  * Bootstrap data.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ft;function Ft(){return ft||(ft=1,function(b,f){(function(s,i){b.exports=i()})(P,function(){const s=new Map;return{set(r,o,n){s.has(r)||s.set(r,new Map);const e=s.get(r);if(!e.has(o)&&e.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(e.keys())[0]}.`);return}e.set(o,n)},get(r,o){return s.has(r)&&s.get(r).get(o)||null},remove(r,o){if(!s.has(r))return;const n=s.get(r);n.delete(o),n.size===0&&s.delete(r)}}})}(tt)),tt.exports}var et={exports:{}},z={exports:{}};/*!
  * Bootstrap index.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ht;function B(){return ht||(ht=1,function(b,f){(function(s,i){i(f)})(P,function(s){const o="transitionend",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(l,a)=>`#${CSS.escape(a)}`)),t),e=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),m=t=>{do t+=Math.floor(Math.random()*1e6);while(document.getElementById(t));return t},h=t=>{if(!t)return 0;let{transitionDuration:l,transitionDelay:a}=window.getComputedStyle(t);const w=Number.parseFloat(l),D=Number.parseFloat(a);return!w&&!D?0:(l=l.split(",")[0],a=a.split(",")[0],(Number.parseFloat(l)+Number.parseFloat(a))*1e3)},v=t=>{t.dispatchEvent(new Event(o))},E=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),p=t=>E(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(n(t)):null,g=t=>{if(!E(t)||t.getClientRects().length===0)return!1;const l=getComputedStyle(t).getPropertyValue("visibility")==="visible",a=t.closest("details:not([open])");if(!a)return l;if(a!==t){const w=t.closest("summary");if(w&&w.parentNode!==a||w===null)return!1}return l},S=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",x=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const l=t.getRootNode();return l instanceof ShadowRoot?l:null}return t instanceof ShadowRoot?t:t.parentNode?x(t.parentNode):null},O=()=>{},T=t=>{t.offsetHeight},M=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],q=t=>{document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(const l of k)l()}),k.push(t)):t()},K=()=>document.documentElement.dir==="rtl",d=t=>{q(()=>{const l=M();if(l){const a=t.NAME,w=l.fn[a];l.fn[a]=t.jQueryInterface,l.fn[a].Constructor=t,l.fn[a].noConflict=()=>(l.fn[a]=w,t.jQueryInterface)}})},c=(t,l=[],a=t)=>typeof t=="function"?t(...l):a,_=(t,l,a=!0)=>{if(!a){c(t);return}const D=h(l)+5;let I=!1;const N=({target:V})=>{V===l&&(I=!0,l.removeEventListener(o,N),c(t))};l.addEventListener(o,N),setTimeout(()=>{I||v(l)},D)},y=(t,l,a,w)=>{const D=t.length;let I=t.indexOf(l);return I===-1?!a&&w?t[D-1]:t[0]:(I+=a?1:-1,w&&(I=(I+D)%D),t[Math.max(0,Math.min(I,D-1))])};s.defineJQueryPlugin=d,s.execute=c,s.executeAfterTransition=_,s.findShadowRoot=x,s.getElement=p,s.getNextActiveElement=y,s.getTransitionDurationFromElement=h,s.getUID=m,s.getjQuery=M,s.isDisabled=S,s.isElement=E,s.isRTL=K,s.isVisible=g,s.noop=O,s.onDOMContentLoaded=q,s.parseSelector=n,s.reflow=T,s.toType=e,s.triggerTransitionEnd=v,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(z,z.exports)),z.exports}/*!
  * Bootstrap event-handler.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var mt;function Q(){return mt||(mt=1,function(b,f){(function(s,i){b.exports=i(B())})(P,function(s){const i=/[^.]*(?=\..*)\.|.*/,r=/\..*/,o=/::\d+$/,n={};let e=1;const m={mouseenter:"mouseover",mouseleave:"mouseout"},h=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function v(d,c){return c&&`${c}::${e++}`||d.uidEvent||e++}function E(d){const c=v(d);return d.uidEvent=c,n[c]=n[c]||{},n[c]}function p(d,c){return function _(y){return K(y,{delegateTarget:d}),_.oneOff&&q.off(d,y.type,c),c.apply(d,[y])}}function g(d,c,_){return function y(t){const l=d.querySelectorAll(c);for(let{target:a}=t;a&&a!==this;a=a.parentNode)for(const w of l)if(w===a)return K(t,{delegateTarget:a}),y.oneOff&&q.off(d,t.type,c,_),_.apply(a,[t])}}function S(d,c,_=null){return Object.values(d).find(y=>y.callable===c&&y.delegationSelector===_)}function x(d,c,_){const y=typeof c=="string",t=y?_:c||_;let l=k(d);return h.has(l)||(l=d),[y,t,l]}function O(d,c,_,y,t){if(typeof c!="string"||!d)return;let[l,a,w]=x(c,_,y);c in m&&(a=(G=>function(A){if(!A.relatedTarget||A.relatedTarget!==A.delegateTarget&&!A.delegateTarget.contains(A.relatedTarget))return G.call(this,A)})(a));const D=E(d),I=D[w]||(D[w]={}),N=S(I,a,l?_:null);if(N){N.oneOff=N.oneOff&&t;return}const V=v(a,c.replace(i,"")),L=l?g(d,_,a):p(d,a);L.delegationSelector=l?_:null,L.callable=a,L.oneOff=t,L.uidEvent=V,I[V]=L,d.addEventListener(w,L,l)}function T(d,c,_,y,t){const l=S(c[_],y,t);l&&(d.removeEventListener(_,l,!!t),delete c[_][l.uidEvent])}function M(d,c,_,y){const t=c[_]||{};for(const[l,a]of Object.entries(t))l.includes(y)&&T(d,c,_,a.callable,a.delegationSelector)}function k(d){return d=d.replace(r,""),m[d]||d}const q={on(d,c,_,y){O(d,c,_,y,!1)},one(d,c,_,y){O(d,c,_,y,!0)},off(d,c,_,y){if(typeof c!="string"||!d)return;const[t,l,a]=x(c,_,y),w=a!==c,D=E(d),I=D[a]||{},N=c.startsWith(".");if(typeof l<"u"){if(!Object.keys(I).length)return;T(d,D,a,l,t?_:null);return}if(N)for(const V of Object.keys(D))M(d,D,V,c.slice(1));for(const[V,L]of Object.entries(I)){const $=V.replace(o,"");(!w||c.includes($))&&T(d,D,a,L.callable,L.delegationSelector)}},trigger(d,c,_){if(typeof c!="string"||!d)return null;const y=s.getjQuery(),t=k(c),l=c!==t;let a=null,w=!0,D=!0,I=!1;l&&y&&(a=y.Event(c,_),y(d).trigger(a),w=!a.isPropagationStopped(),D=!a.isImmediatePropagationStopped(),I=a.isDefaultPrevented());const N=K(new Event(c,{bubbles:w,cancelable:!0}),_);return I&&N.preventDefault(),D&&d.dispatchEvent(N),N.defaultPrevented&&a&&a.preventDefault(),N}};function K(d,c={}){for(const[_,y]of Object.entries(c))try{d[_]=y}catch{Object.defineProperty(d,_,{configurable:!0,get(){return y}})}return d}return q})}(et)),et.exports}var ot={exports:{}},nt={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var pt;function It(){return pt||(pt=1,function(b,f){(function(s,i){b.exports=i()})(P,function(){function s(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function i(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}return{setDataAttribute(o,n,e){o.setAttribute(`data-bs-${i(n)}`,e)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${i(n)}`)},getDataAttributes(o){if(!o)return{};const n={},e=Object.keys(o.dataset).filter(m=>m.startsWith("bs")&&!m.startsWith("bsConfig"));for(const m of e){let h=m.replace(/^bs/,"");h=h.charAt(0).toLowerCase()+h.slice(1,h.length),n[h]=s(o.dataset[m])}return n},getDataAttribute(o,n){return s(o.getAttribute(`data-bs-${i(n)}`))}}})}(nt)),nt.exports}/*!
  * Bootstrap config.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var gt;function ct(){return gt||(gt=1,function(b,f){(function(s,i){b.exports=i(It(),B())})(P,function(s,i){class r{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,e){const m=i.isElement(e)?s.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof m=="object"?m:{},...i.isElement(e)?s.getDataAttributes(e):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,e=this.constructor.DefaultType){for(const[m,h]of Object.entries(e)){const v=n[m],E=i.isElement(v)?"element":i.toType(v);if(!new RegExp(h).test(E))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${m}" provided type "${E}" but expected type "${h}".`)}}}return r})}(ot)),ot.exports}/*!
  * Bootstrap base-component.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var _t;function qt(){return _t||(_t=1,function(b,f){(function(s,i){b.exports=i(Ft(),Q(),ct(),B())})(P,function(s,i,r,o){const n="5.3.2";class e extends r{constructor(h,v){super(),h=o.getElement(h),h&&(this._element=h,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),i.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,v,E=!0){o.executeAfterTransition(h,v,E)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return s.get(o.getElement(h),this.DATA_KEY)}static getOrCreateInstance(h,v={}){return this.getInstance(h)||new this(h,typeof v=="object"?v:null)}static get VERSION(){return n}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}return e})}(Z)),Z.exports}var st={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var bt;function J(){return bt||(bt=1,function(b,f){(function(s,i){b.exports=i(B())})(P,function(s){const i=o=>{let n=o.getAttribute("data-bs-target");if(!n||n==="#"){let e=o.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),n=e&&e!=="#"?s.parseSelector(e.trim()):null}return n},r={find(o,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,o))},findOne(o,n=document.documentElement){return Element.prototype.querySelector.call(n,o)},children(o,n){return[].concat(...o.children).filter(e=>e.matches(n))},parents(o,n){const e=[];let m=o.parentNode.closest(n);for(;m;)e.push(m),m=m.parentNode.closest(n);return e},prev(o,n){let e=o.previousElementSibling;for(;e;){if(e.matches(n))return[e];e=e.previousElementSibling}return[]},next(o,n){let e=o.nextElementSibling;for(;e;){if(e.matches(n))return[e];e=e.nextElementSibling}return[]},focusableChildren(o){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(n,o).filter(e=>!s.isDisabled(e)&&s.isVisible(e))},getSelectorFromElement(o){const n=i(o);return n&&r.findOne(n)?n:null},getElementFromSelector(o){const n=i(o);return n?r.findOne(n):null},getMultipleElementsFromSelector(o){const n=i(o);return n?r.find(n):[]}};return r})}(st)),st.exports}var it={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Et;function Bt(){return Et||(Et=1,function(b,f){(function(s,i){b.exports=i(Q(),ct(),B())})(P,function(s,i,r){const o="backdrop",n="fade",e="show",m=`mousedown.bs.${o}`,h={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},v={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class E extends i{constructor(g){super(),this._config=this._getConfig(g),this._isAppended=!1,this._element=null}static get Default(){return h}static get DefaultType(){return v}static get NAME(){return o}show(g){if(!this._config.isVisible){r.execute(g);return}this._append();const S=this._getElement();this._config.isAnimated&&r.reflow(S),S.classList.add(e),this._emulateAnimation(()=>{r.execute(g)})}hide(g){if(!this._config.isVisible){r.execute(g);return}this._getElement().classList.remove(e),this._emulateAnimation(()=>{this.dispose(),r.execute(g)})}dispose(){this._isAppended&&(s.off(this._element,m),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const g=document.createElement("div");g.className=this._config.className,this._config.isAnimated&&g.classList.add(n),this._element=g}return this._element}_configAfterMerge(g){return g.rootElement=r.getElement(g.rootElement),g}_append(){if(this._isAppended)return;const g=this._getElement();this._config.rootElement.append(g),s.on(g,m,()=>{r.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(g){r.executeAfterTransition(g,this._getElement(),this._config.isAnimated)}}return E})}(it)),it.exports}var H={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var yt;function Kt(){return yt||(yt=1,function(b,f){(function(s,i){i(f,Q(),J(),B())})(P,function(s,i,r,o){const n=(e,m="hide")=>{const h=`click.dismiss${e.EVENT_KEY}`,v=e.NAME;i.on(document,h,`[data-bs-dismiss="${v}"]`,function(E){if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),o.isDisabled(this))return;const p=r.getElementFromSelector(this)||this.closest(`.${v}`);e.getOrCreateInstance(p)[m]()})};s.enableDismissTrigger=n,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(H,H.exports)),H.exports}var rt={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var At;function Yt(){return At||(At=1,function(b,f){(function(s,i){b.exports=i(Q(),J(),ct())})(P,function(s,i,r){const o="focustrap",e=".bs.focustrap",m=`focusin${e}`,h=`keydown.tab${e}`,v="Tab",E="forward",p="backward",g={autofocus:!0,trapElement:null},S={autofocus:"boolean",trapElement:"element"};class x extends r{constructor(T){super(),this._config=this._getConfig(T),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return g}static get DefaultType(){return S}static get NAME(){return o}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),s.off(document,e),s.on(document,m,T=>this._handleFocusin(T)),s.on(document,h,T=>this._handleKeydown(T)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.off(document,e))}_handleFocusin(T){const{trapElement:M}=this._config;if(T.target===document||T.target===M||M.contains(T.target))return;const k=i.focusableChildren(M);k.length===0?M.focus():this._lastTabNavDirection===p?k[k.length-1].focus():k[0].focus()}_handleKeydown(T){T.key===v&&(this._lastTabNavDirection=T.shiftKey?p:E)}}return x})}(rt)),rt.exports}var at={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var vt;function Wt(){return vt||(vt=1,function(b,f){(function(s,i){b.exports=i(It(),J(),B())})(P,function(s,i,r){const o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",n=".sticky-top",e="padding-right",m="margin-right";class h{constructor(){this._element=document.body}getWidth(){const E=document.documentElement.clientWidth;return Math.abs(window.innerWidth-E)}hide(){const E=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,e,p=>p+E),this._setElementAttributes(o,e,p=>p+E),this._setElementAttributes(n,m,p=>p-E)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,e),this._resetElementAttributes(o,e),this._resetElementAttributes(n,m)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(E,p,g){const S=this.getWidth(),x=O=>{if(O!==this._element&&window.innerWidth>O.clientWidth+S)return;this._saveInitialAttribute(O,p);const T=window.getComputedStyle(O).getPropertyValue(p);O.style.setProperty(p,`${g(Number.parseFloat(T))}px`)};this._applyManipulationCallback(E,x)}_saveInitialAttribute(E,p){const g=E.style.getPropertyValue(p);g&&s.setDataAttribute(E,p,g)}_resetElementAttributes(E,p){const g=S=>{const x=s.getDataAttribute(S,p);if(x===null){S.style.removeProperty(p);return}s.removeDataAttribute(S,p),S.style.setProperty(p,x)};this._applyManipulationCallback(E,g)}_applyManipulationCallback(E,p){if(r.isElement(E)){p(E);return}for(const g of i.find(E,this._element))p(g)}}return h})}(at)),at.exports}/*!
  * Bootstrap modal.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(b,f){(function(s,i){b.exports=i(qt(),Q(),J(),Bt(),Kt(),Yt(),B(),Wt())})(P,function(s,i,r,o,n,e,m,h){const v="modal",p=".bs.modal",g=".data-api",S="Escape",x=`hide${p}`,O=`hidePrevented${p}`,T=`hidden${p}`,M=`show${p}`,k=`shown${p}`,q=`resize${p}`,K=`click.dismiss${p}`,d=`mousedown.dismiss${p}`,c=`keydown.dismiss${p}`,_=`click${p}${g}`,y="modal-open",t="fade",l="show",a="modal-static",w=".modal.show",D=".modal-dialog",I=".modal-body",N='[data-bs-toggle="modal"]',V={backdrop:!0,focus:!0,keyboard:!0},L={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $ extends s{constructor(A,C){super(A,C),this._dialog=r.findOne(D,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new h,this._addEventListeners()}static get Default(){return V}static get DefaultType(){return L}static get NAME(){return v}toggle(A){return this._isShown?this.hide():this.show(A)}show(A){this._isShown||this._isTransitioning||i.trigger(this._element,M,{relatedTarget:A}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(y),this._adjustDialog(),this._backdrop.show(()=>this._showElement(A)))}hide(){!this._isShown||this._isTransitioning||i.trigger(this._element,x).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(l),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){i.off(window,p),i.off(this._dialog,p),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new o({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new e({trapElement:this._element})}_showElement(A){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const C=r.findOne(I,this._dialog);C&&(C.scrollTop=0),m.reflow(this._element),this._element.classList.add(l);const R=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,i.trigger(this._element,k,{relatedTarget:A})};this._queueCallback(R,this._dialog,this._isAnimated())}_addEventListeners(){i.on(this._element,c,A=>{if(A.key===S){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),i.on(window,q,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),i.on(this._element,d,A=>{i.one(this._element,K,C=>{if(!(this._element!==A.target||this._element!==C.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(y),this._resetAdjustments(),this._scrollBar.reset(),i.trigger(this._element,T)})}_isAnimated(){return this._element.classList.contains(t)}_triggerBackdropTransition(){if(i.trigger(this._element,O).defaultPrevented)return;const C=this._element.scrollHeight>document.documentElement.clientHeight,R=this._element.style.overflowY;R==="hidden"||this._element.classList.contains(a)||(C||(this._element.style.overflowY="hidden"),this._element.classList.add(a),this._queueCallback(()=>{this._element.classList.remove(a),this._queueCallback(()=>{this._element.style.overflowY=R},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const A=this._element.scrollHeight>document.documentElement.clientHeight,C=this._scrollBar.getWidth(),R=C>0;if(R&&!A){const j=m.isRTL()?"paddingLeft":"paddingRight";this._element.style[j]=`${C}px`}if(!R&&A){const j=m.isRTL()?"paddingRight":"paddingLeft";this._element.style[j]=`${C}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(A,C){return this.each(function(){const R=$.getOrCreateInstance(this,A);if(typeof A=="string"){if(typeof R[A]>"u")throw new TypeError(`No method named "${A}"`);R[A](C)}})}}return i.on(document,_,N,function(G){const A=r.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&G.preventDefault(),i.one(A,M,j=>{j.defaultPrevented||i.one(A,T,()=>{m.isVisible(this)&&this.focus()})});const C=r.findOne(w);C&&$.getInstance(C).hide(),$.getOrCreateInstance(A).toggle(this)}),n.enableDismissTrigger($),m.defineJQueryPlugin($),$})})(Dt);var jt=Dt.exports;const Qt=Nt(jt),zt={data(){return{modal:null}},methods:{openModal(){this.modal.show()}},mounted(){this.modal=new Qt(this.$refs.uploadImageModal,{keyboard:!1,backdrop:"static"})}},Ht={ref:"uploadImageModal",class:"modal fade","aria-hidden":"true","aria-labelledby":"exampleModalToggleLabel",tabindex:"-1"},Jt=xt('<div class="modal-dialog modal-dialog-centered"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">上傳圖片</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body"> 上傳圖片... </div><div class="modal-footer"><button type="button" class="btn btn-dark">送出</button></div></div></div>',1),Gt=[Jt];function Xt(b,f,s,i,r,o){return U(),F("div",Ht,Gt,512)}const Zt=wt(zt,[["render",Xt]]),lt=Tt(),te={data(){return{tempProductInfo:{},tempCategoryList:[]}},methods:{getProductInfo(b,f){this.tempProductInfo=b[f],console.log("productInfo 的 getProductInfo",this.tempProductInfo)},chooseCategory(b){this.tempProductInfo.category=b},deleteImage(b,f){b==="imageUrl"?this.tempProductInfo.imageUrl="":b==="imagesUrl"?this.tempProductInfo.imagesUrl.splice(f,1):(this.tempProductInfo.imageUrl="",this.tempProductInfo.imagesUrl=[])},openImageModal(){this.$refs.uploadImageModal.openModal()}},computed:{...Ot(Tt)},components:{uploadImageModal:Zt},mounted(){console.log("ProductInfo 的 mounted");const b=this.$route.params.id;lt.getAllProducts().then(f=>{console.log("productInfo 拿到 store 給的資料了",f),this.getProductInfo(lt.allProducts,b),this.tempCategoryList=[...lt.categoryList]}).catch(f=>{console.error("Failed to fetch products:",f)}),this.$refs.uploadImageModal.openModal()}},ee={class:"container overflow-y-scroll scrollbar-y-hide vh-100"},oe=u("h2",{class:"py-5 h2"},"編輯商品",-1),ne={class:"mb-5"},se=u("h5",{class:"mb-3 h5 fw-bold"},"商品圖片",-1),ie=u("p",{class:"mb-3"},"※ 建議上傳方形圖片，以免影響前台效果",-1),re={class:"row g-1 mb-3"},ae={class:"col-6 col-md-2"},le={class:"position-relative border border-1 h-100"},ce=u("i",{class:"bi bi-trash"},null,-1),ue=[ce],de=u("div",{class:"position-absolute bottom-0 py-1 text-center text-white bg-dark opacity-75 w-100"}," 封面圖片 ",-1),fe=["src"],he={key:2,class:"d-flex flex-column align-items-center justify-content-center h-100 bg-light"},me=u("i",{class:"bi bi-image mb-2"},null,-1),pe=u("p",null,"目前無封面",-1),ge=[me,pe],_e={class:"position-relative border border-1"},be=["onClick"],Ee=u("i",{class:"bi bi-trash"},null,-1),ye=[Ee],Ae=["src"],ve={class:"col-6 col-md-2"},we=u("i",{class:"bi bi-trash me-2"},null,-1),Te=u("span",null,"刪除所有圖片",-1),De=[we,Te],Ie=u("h5",{class:"mb-3 h5 fw-bold"},"商品基本資訊",-1),Se={class:"d-flex flex-column gap-3"},Ce={"d-flex":""},Ne=u("label",{for:"name",class:"form-label fw-bold"},"商品名稱",-1),xe={class:"row"},Oe={class:"col-md-6"},ke=u("label",{for:"category",class:"form-label fw-bold"},"商品分類",-1),Me={class:"d-flex align-items-center text-nowrap"},Pe=u("span",null,"點擊帶入分類：",-1),Le={class:"d-flex gap-1 mb-0 flex-wrap"},Re=["onClick"],Ve={class:"col-md-6"},$e=u("label",{for:"unit",class:"form-label fw-bold"},"商品單位",-1),Ue={class:"row"},Fe={class:"col-md-6"},qe=u("label",{for:"origin_price",class:"form-label fw-bold"},"原價",-1),Be={class:"col-md-6"},Ke=u("label",{for:"price",class:"form-label fw-bold"},"售價",-1),Ye=u("label",{for:"description",class:"form-label fw-bold"},"商品描述",-1),We=u("label",{for:"content",class:"form-label fw-bold"},"說明內容",-1),je=u("div",{class:"d-flex justify-content-end gap-2 pt-3"},[u("button",{type:"button",class:"btn btn-outline-dark","data-bs-dismiss":"modal"}," 取消 "),u("button",{type:"button",class:"btn btn-dark text-white"},"確認")],-1);function Qe(b,f,s,i,r,o){const n=kt("uploadImageModal");return U(),F(X,null,[u("div",ee,[oe,u("div",null,[u("div",ne,[se,ie,u("div",re,[u("div",ae,[u("div",le,[r.tempProductInfo.imageUrl?(U(),F("button",{key:0,type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"},onClick:f[0]||(f[0]=e=>o.deleteImage("imageUrl",b.idx))},ue)):Mt("",!0),de,r.tempProductInfo.imageUrl?(U(),F("img",{key:1,class:"d-block mx-auto img-radio-1x1",src:r.tempProductInfo.imageUrl,alt:"picture"},null,8,fe)):(U(),F("div",he,ge))])]),(U(!0),F(X,null,ut(r.tempProductInfo.imagesUrl,(e,m)=>(U(),F("div",{class:"col-6 col-md-2",key:m},[u("div",_e,[u("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"},onClick:h=>o.deleteImage("imagesUrl",m)},ye,8,be),u("img",{class:"d-block mx-auto img-radio-1x1",src:e,alt:"picture"},null,8,Ae)])]))),128)),u("div",ve,[u("button",{onClick:f[1]||(f[1]=(...e)=>o.openImageModal&&o.openImageModal(...e)),class:"d-flex align-items-center justify-content-center border border-1 img-radio-1x1 w-100 text-secondary",type:"button"}," 新增圖片 ")])]),u("button",{typs:"button",class:"p-0 btn text-danger",onClick:f[2]||(f[2]=(...e)=>o.deleteImage&&o.deleteImage(...e))},De)]),Pt(" "+dt(r.tempProductInfo)+" ",1),u("div",null,[Ie,u("form",Se,[u("div",Ce,[Ne,Y(u("input",{type:"text",id:"name",class:"form-control",placeholder:"請輸入商品名稱","onUpdate:modelValue":f[3]||(f[3]=e=>r.tempProductInfo.title=e)},null,512),[[W,r.tempProductInfo.title]])]),u("div",xe,[u("div",Oe,[ke,Y(u("input",{type:"text",id:"category",class:"form-control mb-1",placeholder:"請輸入商品分類","onUpdate:modelValue":f[4]||(f[4]=e=>r.tempProductInfo.category=e)},null,512),[[W,r.tempProductInfo.category]]),u("div",Me,[Pe,u("div",Le,[(U(!0),F(X,null,ut(r.tempCategoryList,(e,m)=>(U(),F("button",{class:"btn btn-light rounded-pill py-1",value:"item",key:m,onClick:h=>o.chooseCategory(e)},dt(e),9,Re))),128))])])]),u("div",Ve,[$e,Y(u("input",{type:"text",id:"unit",class:"form-control",placeholder:"請輸入商品單位","onUpdate:modelValue":f[5]||(f[5]=e=>r.tempProductInfo.unit=e)},null,512),[[W,r.tempProductInfo.unit]])])]),u("div",Ue,[u("div",Fe,[qe,Y(u("input",{type:"number",id:"origin_price",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":f[6]||(f[6]=e=>r.tempProductInfo.origin_price=e)},null,512),[[W,r.tempProductInfo.origin_price,void 0,{number:!0}]])]),u("div",Be,[Ke,Y(u("input",{type:"number",id:"price",class:"form-control",placeholder:"請輸入商品售價","onUpdate:modelValue":f[7]||(f[7]=e=>r.tempProductInfo.price=e)},null,512),[[W,r.tempProductInfo.price,void 0,{number:!0}]])])]),u("div",null,[Ye,Y(u("textarea",{type:"text",id:"description",class:"form-control",placeholder:"請輸入商品描述","onUpdate:modelValue":f[8]||(f[8]=e=>r.tempProductInfo.description=e)},null,512),[[W,r.tempProductInfo.description]])]),u("div",null,[We,Y(u("textarea",{type:"text",id:"content",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":f[9]||(f[9]=e=>r.tempProductInfo.content=e)},null,512),[[W,r.tempProductInfo.content]])])])])]),je]),Lt(n,{ref:"uploadImageModal"},null,512)],64)}const Je=wt(te,[["render",Qe]]);export{Je as default};
