import{I as p,J as m,_ as f,V as _,o as r,c as i,a as t,F as b,r as h,L as n,R as c}from"./index-wNkprf1Q.js";import{s as g}from"./sweetalert2.all-jWC8eZBq.js";var v={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:x,VITE_PATH:y}=v,a=p("adminProducts",{state:()=>({allProducts:[],categoryList:[]}),actions:{getAllProducts(){const l=`${x}/api/${y}/admin/products/all`;return m.get(l).then(o=>(this.allProducts=o.data.products,this.getCategoryList(),o.data.products)).catch(o=>{g.fire({icon:"error",text:o.response.data.message})})},getCategoryList(){const l=Object.values(this.allProducts),o=new Set(l.map(d=>d.category));this.categoryList=[...o],console.log(this.categoryList)}}}),I=a(),w={data(){return{productInfo:{}}},methods:{getProductInfo(l,o){this.productInfo=l[o],console.log(this.productInfo)}},computed:{..._(a)},mounted(){const l=this.$route.params.id;I.getAllProducts().then(o=>{this.getProductInfo(o,l)}).catch(o=>{console.error("Failed to fetch products:",o)})}},P={class:"container overflow-y-scroll scrollbar-y-hide vh-100"},V=t("h2",{class:"py-5 h2"},"編輯商品",-1),A={class:"mb-5"},k=t("h5",{class:"mb-3 h5 fw-bold"},"商品圖片",-1),L=t("p",{class:"mb-3"},"※ 建議上傳方形圖片，以免影響前台效果",-1),U={class:"row g-1 mb-3"},E={class:"col-6 col-md-2"},S={class:"position-relative border border-1"},T=t("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"}},[t("i",{class:"bi bi-trash"})],-1),j=t("div",{class:"position-absolute bottom-0 py-1 text-center text-white bg-dark opacity-75 w-100"}," 封面圖片 ",-1),B=["src"],D={class:"position-relative border border-1"},R=t("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"}},[t("i",{class:"bi bi-trash"})],-1),F=["src"],O=t("div",{class:"col-6 col-md-2"},[t("div",{class:"d-flex align-items-center justify-content-center border border-1 img-radio-1x1"},[t("p",{class:"text-secondary"},"新增圖片")])],-1),C=t("button",{typs:"button",class:"p-0 btn text-danger"},[t("i",{class:"bi bi-trash me-2"}),t("span",null,"刪除所有圖片")],-1),H=t("h5",{class:"mb-3 h5 fw-bold"},"商品基本資訊",-1),M={class:"d-flex flex-column gap-3"},J={"d-flex":""},N=t("label",{for:"name",class:"form-label fw-bold"},"商品名稱",-1),q={class:"row"},z=t("div",{class:"col-md-6"},[t("label",{for:"category",class:"form-label fw-bold"},"商品分類"),t("input",{type:"text",id:"category",class:"form-control",placeholder:"請輸入商品分類"})],-1),G={class:"col-md-6"},K=t("label",{for:"unit",class:"form-label fw-bold"},"商品單位",-1),Q={class:"row"},W={class:"col-md-6"},X=t("label",{for:"origin_price",class:"form-label fw-bold"},"原價",-1),Y={class:"col-md-6"},Z=t("label",{for:"price",class:"form-label fw-bold"},"售價",-1),$=t("label",{for:"description",class:"form-label fw-bold"},"商品描述",-1),tt=t("label",{for:"content",class:"form-label fw-bold"},"說明內容",-1),ot=t("div",{class:"d-flex justify-content-end gap-2 pt-3"},[t("button",{type:"button",class:"btn btn-outline-dark","data-bs-dismiss":"modal"}," 取消 "),t("button",{type:"button",class:"btn btn-dark text-white"},"確認")],-1);function st(l,o,d,et,s,lt){return r(),i("div",P,[V,t("div",null,[t("div",A,[k,L,t("div",U,[t("div",E,[t("div",S,[T,j,t("img",{class:"d-block mx-auto img-radio-1x1",src:s.productInfo.imageUrl,alt:"picture"},null,8,B)])]),(r(!0),i(b,null,h(s.productInfo.imagesUrl,(e,u)=>(r(),i("div",{class:"col-6 col-md-2",key:u},[t("div",D,[R,t("img",{class:"d-block mx-auto img-radio-1x1",src:e,alt:"picture"},null,8,F)])]))),128)),O]),C]),t("div",null,[H,t("form",M,[t("div",J,[N,n(t("input",{type:"text",id:"name",class:"form-control",placeholder:"請輸入商品名稱","onUpdate:modelValue":o[0]||(o[0]=e=>s.productInfo.title=e)},null,512),[[c,s.productInfo.title]])]),t("div",q,[z,t("div",G,[K,n(t("input",{type:"text",id:"unit",class:"form-control",placeholder:"請輸入商品單位","onUpdate:modelValue":o[1]||(o[1]=e=>s.productInfo.unit=e)},null,512),[[c,s.productInfo.unit]])])]),t("div",Q,[t("div",W,[X,n(t("input",{type:"number",id:"origin_price",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":o[2]||(o[2]=e=>s.productInfo.origin_price=e)},null,512),[[c,s.productInfo.origin_price,void 0,{number:!0}]])]),t("div",Y,[Z,n(t("input",{type:"number",id:"price",class:"form-control",placeholder:"請輸入商品售價","onUpdate:modelValue":o[3]||(o[3]=e=>s.productInfo.price=e)},null,512),[[c,s.productInfo.price,void 0,{number:!0}]])])]),t("div",null,[$,n(t("textarea",{type:"text",id:"description",class:"form-control",placeholder:"請輸入商品描述","onUpdate:modelValue":o[4]||(o[4]=e=>s.productInfo.description=e)},null,512),[[c,s.productInfo.description]])]),t("div",null,[tt,n(t("textarea",{type:"text",id:"content",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":o[5]||(o[5]=e=>s.productInfo.content=e)},null,512),[[c,s.productInfo.content]])])])])]),ot])}const rt=f(w,[["render",st]]);export{rt as default};
