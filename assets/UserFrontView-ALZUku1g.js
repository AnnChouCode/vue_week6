import{c as m}from"./cartStore-WMF80jHU.js";import{m as b,_ as f,o as a,c as o,F as v,r as L,a as t,n as k,t as x,b as C,d as _,e as c,w as r,f as h,g as p,h as w}from"./index-OjM1QzHf.js";import"./sweetalert2.all-Vzh4P7VD.js";const $={data(){return{toastList:null,toastMsgList:[],toastInnerMsg:{addToCart:{icon:"bi-cart-plus",msg:"已加入購物車"},updateCart:{icon:"bi-info-circle",msg:"購物車已更新"},deleteCartItem:{icon:"bi-cart-dash",msg:"商品已刪除"}}}},computed:{...b(m,["doAction","toastState"])},watch:{toastState(){this.addToastMsg(this.doAction)}},methods:{addToastMsg(s){this.toastMsgList.unshift(this.toastInnerMsg[s]),setTimeout(()=>{this.toastMsgList.pop()},1500)},clearToast(s){this.toastMsgList.splice(s,1)}}},M={class:"position-fixed bottom-0 end-0 p-3",style:{"z-index":"11"}},T={class:"toast-body d-flex align-items-center justify-content-between"},N={class:"d-flex"},V={class:"mb-0"},S=["onClick"];function B(s,n,l,y,d,u){return a(),o("div",M,[(a(!0),o(v,null,L(d.toastMsgList,(e,i)=>(a(),o("div",{class:"toast show mb-1",role:"alert","aria-live":"assertive","aria-atomic":"true",key:i},[t("div",T,[t("div",N,[t("i",{class:k(["bi me-2 text-success",e.icon])},null,2),t("p",V,x(e.msg),1)]),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"toast","aria-label":"Close",onClick:g=>u.clearToast(i)},null,8,S)])]))),128))])}const R=f($,[["render",B]]),z={data(){return{isLoggedin:"false"}},methods:{...C(m,["getCartsList"])},mounted(){var n;((n=document.cookie.split("; ").find(l=>l.startsWith("user=")))==null?void 0:n.split("=")[1])||(this.isLoggedin=!this.isLoggedin),this.getCartsList()},components:{toastComponent:R},computed:{...b(m,["cartsList"])}},A={class:"navbar navbar-expand-lg navbar-dark bg-dark"},F={class:"container-fluid"},I=t("a",{href:"#/home"},[t("h1",{class:"mb-0 me-5 fs-4 text-white"},"Dessert Time")],-1),j=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),D={class:"collapse navbar-collapse",id:"navbarNav"},E={class:"navbar-nav justify-content-between w-100"},U={class:"nav-item py-2"},W={class:"nav-item d-flex flex-column flex-lg-row gap-3 py-2"},q={class:"d-flex gap-1"},G=t("p",null,"購物車",-1),H={key:0,class:"bg-danger rounded-pill px-2 py-1 text-white",style:{"font-size":"12px"}};function J(s,n,l,y,d,u){const e=_("RouterLink"),i=_("RouterView"),g=_("toastComponent");return a(),o(v,null,[t("nav",A,[t("div",F,[I,j,t("div",D,[t("ul",E,[t("li",U,[c(e,{to:"/productlist",class:"text-secondary"},{default:r(()=>[p("看產品")]),_:1})]),t("li",W,[c(e,{to:"/cart",class:"text-secondary"},{default:r(()=>[t("div",q,[G,s.cartsList.total?(a(),o("div",H,x(s.cartsList.carts.length),1)):w("",!0)])]),_:1}),d.isLoggedin?(a(),h(e,{key:1,to:"/admin",class:"text-secondary"},{default:r(()=>[p(" 後台 ")]),_:1})):(a(),h(e,{key:0,to:"/userlogin",class:"text-secondary"},{default:r(()=>[p(" 登入 ")]),_:1}))])])])])]),c(i),c(g)],64)}const Q=f(z,[["render",J]]);export{Q as default};
