import{I as c,J as t}from"./index-6d3eRlgN.js";import{s}from"./sweetalert2.all-w0xBe72o.js";var u={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const m=c("adminLogin",{actions:{checkLogin(){var o;console.log("loginStore 的 checkLogin 啟動");const{VITE_API:n}=u,i=`${n}/api/user/check`,r=(o=document.cookie.split("; ").find(e=>e.startsWith("user=")))==null?void 0:o.split("=")[1];return t.defaults.headers.common.Authorization=r,console.log("adminLogin token get"),t.post(i).then(function(e){return console.log("歡迎登入"),s.fire({icon:"success",text:"歡迎登入"}),e}).catch(e=>{s.fire({icon:"error",text:e.response.data.message}).then(a=>{this.$router.push("/home")})})},logout(){document.cookie="user=;expires=;",this.$router.push("/home")}}});export{m as u};
