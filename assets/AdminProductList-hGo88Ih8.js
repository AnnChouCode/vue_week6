import{p as f}from"./paginationComponent-RWMmldH6.js";import{_ as x,b as u,o as i,c as l,a as t,F as h,r as v,d as _,O as k,t as r,w as y,n as p}from"./index-S7xo-Gxh.js";var P={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:L,VITE_PATH:$}=P,w={data(){return{productsList:[],pagination:{}}},methods:{getProductList(n=1,s){let d=`${L}/api/${$}/admin/products?page=${n}`;s&&(d+=`&category=${s}`),this.axios.get(d).then(a=>{const{products:c,pagination:o}=a.data;this.productsList=c,this.pagination=o}).catch(a=>{this.$swal.fire({icon:"error",text:a.response.data.message})})},openModal(n,s){this.$refs.productModal.openModal(n,s)},showProductInfo(n){console.log(n),this.$router.push(`/admin/productinfo/${n}`)}},mounted(){this.getProductList()},components:{paginationComponent:f}},C={class:"container overflow-y-scroll scrollbar-y-hide vh-100"},I={class:"d-flex justify-content-between py-5"},E=t("h2",{class:"h2"},"產品列表",-1),M={class:"table align-middle"},V=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",{class:"text-center"},"分類"),t("th",{class:"text-center"},"原價 / 售價"),t("th",null,"狀態"),t("th")])],-1),A={style:{width:"200px"}},T={class:"py-1 rounded-pill bg-light text-center"},S={class:"h5 text-center"},B={key:0,class:"text-success"},D={key:1,class:"text-danger"},z={class:"btn-group align-items-center"},O=["onClick"],R=t("i",{class:"bi bi-pencil text-success"},null,-1),F=[R],G=t("button",{type:"button",class:"btn"},[t("i",{class:"bi bi-trash text-danger"})],-1);function H(n,s,d,a,c,o){const g=u("router-link"),b=u("paginationComponent"),m=u("productModal");return i(),l(h,null,[t("div",C,[t("div",I,[E,t("button",{class:"btn btn-dark text-white",onClick:s[0]||(s[0]=e=>o.openModal("create"))}," 建立新的產品 ")]),t("div",null,[t("table",M,[V,t("tbody",null,[(i(!0),l(h,null,v(c.productsList,e=>(i(),l("tr",{key:e.id},[t("td",A,[t("div",{style:k([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)]),t("td",null,r(e.title),1),t("td",null,[t("div",T,r(e.category),1)]),t("td",null,[t("div",S,r(e.origin_price)+" / "+r(e.price),1)]),t("td",null,[e.is_enabled?(i(),l("p",B,"啟用")):(i(),l("p",D,"未啟用"))]),t("td",null,[t("div",z,[t("button",{type:"button",class:"btn",onClick:N=>o.showProductInfo(e.id)},F,8,O),G,_(g,{class:p(["btn",{"pe-none":!e.is_enabled}]),target:"_blank",to:`/productinfo/${e.id}`},{default:y(()=>[t("i",{class:p(["bi bi-house",e.is_enabled?"text-dark":"text-light"])},null,2)]),_:2},1032,["to","class"])])])]))),128))])]),_(b,{pagination:c.pagination,onGetProductList:o.getProductList},null,8,["pagination","onGetProductList"])])]),_(m,{ref:"productModal"},null,512)],64)}const q=x(w,[["render",H]]);export{q as default};
