import{c as m}from"./cartStore-Ofeg0vrj.js";import{_ as f,f as b,r as u,o as s,c as i,b as _,a as t,F as P,g as v,n as y,t as c}from"./index-0yh6XsaO.js";import{p as L,f as k}from"./filterCategory-ImhqeapX.js";var C={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:I,VITE_PATH:$}=C,x={data(){return{productsList:[],pagination:{}}},methods:{...b(m,["addToCart"]),getProductList(o=1,l){let d=`${I}/api/${$}/products?page=${o}`;l&&(d+=`&category=${l}`),this.axios.get(d).then(a=>{const{products:r,pagination:n}=a.data;this.productsList=r,this.pagination=n}).catch(a=>{this.$swal.fire({icon:"error",text:a.response.data.message})})},showProductInfo(o){this.$router.push(`/productinfo/${o}`)}},mounted(){this.getProductList()},components:{paginationComponent:L,filterCategory:k}},E={class:"container"},T=t("h2",{class:"py-5 h2 text-center"},"看產品",-1),V={class:"table align-middle"},A=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",null,"價格"),t("th")])],-1),S={style:{width:"200px"}},w={key:0,class:"h5"},B={key:1},D={class:"h6"},G={class:"h5"},R={class:"btn-group btn-group-sm"},U=["onClick"],z=["onClick"];function F(o,l,d,a,r,n){const p=u("filterCategory"),h=u("paginationComponent");return s(),i("div",E,[T,_(p,{onGetProductList:n.getProductList},null,8,["onGetProductList"]),t("table",V,[A,t("tbody",null,[(s(!0),i(P,null,v(r.productsList,e=>(s(),i("tr",{key:e.id},[t("td",S,[t("div",{style:y([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${e.imageUrl})`}])},null,4)]),t("td",null,c(e.title),1),t("td",null,[e.price?(s(),i("div",B,[t("del",D,"原價 "+c(e.origin_price)+" 元",1),t("div",G,"現在只要 "+c(e.price)+" 元",1)])):(s(),i("div",w,c(e.origin_price)+" 元",1))]),t("td",null,[t("div",R,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:g=>n.showProductInfo(e.id)}," 查看更多 ",8,U),t("button",{type:"button",class:"btn btn-outline-danger",onClick:g=>o.addToCart(e.id,1)}," 加到購物車 ",8,z)])])]))),128))])]),_(h,{pagination:r.pagination,onGetProductList:n.getProductList},null,8,["pagination","onGetProductList"])])}const M=f(x,[["render",F]]);export{M as default};
