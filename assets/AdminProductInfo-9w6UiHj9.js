import{u as Tt}from"./adminLoginStore-diiJaiCf.js";import{I as Ct,J as Nt,W as P,X as Mt,_ as It,o as B,c as F,a,Y as Ot,V as ut,b as kt,Q as Pt,F as X,r as dt,f as Lt,t as ft,L as Y,R as W,d as Vt}from"./index-2azq9IEN.js";import{s as Rt}from"./sweetalert2.all-F1nW8cVa.js";var $t={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:Bt,VITE_PATH:Ft}=$t,Dt=Ct("adminProducts",{state:()=>({allProducts:[],categoryList:[]}),actions:{getAllProducts(){const p=`${Bt}/api/${Ft}/admin/products/all`;return Nt.get(p).then(c=>(this.allProducts=c.data.products,this.getCategoryList(),console.log("productStore 拿到產品資料了"),c)).catch(c=>{Rt.fire({icon:"error",text:c.response.data.message})})},getCategoryList(){const p=Object.values(this.allProducts),c=new Set(p.map(s=>s.category));this.categoryList=[...c]}}});var St={exports:{}},Z={exports:{}},tt={exports:{}};/*!
  * Bootstrap data.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var ht;function Ut(){return ht||(ht=1,function(p,c){(function(s,i){p.exports=i()})(P,function(){const s=new Map;return{set(r,o,n){s.has(r)||s.set(r,new Map);const e=s.get(r);if(!e.has(o)&&e.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(e.keys())[0]}.`);return}e.set(o,n)},get(r,o){return s.has(r)&&s.get(r).get(o)||null},remove(r,o){if(!s.has(r))return;const n=s.get(r);n.delete(o),n.size===0&&s.delete(r)}}})}(tt)),tt.exports}var et={exports:{}},Q={exports:{}};/*!
  * Bootstrap index.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var pt;function q(){return pt||(pt=1,function(p,c){(function(s,i){i(c)})(P,function(s){const o="transitionend",n=t=>(t&&window.CSS&&window.CSS.escape&&(t=t.replace(/#([^\s"#']+)/g,(u,l)=>`#${CSS.escape(l)}`)),t),e=t=>t==null?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),m=t=>{do t+=Math.floor(Math.random()*1e6);while(document.getElementById(t));return t},h=t=>{if(!t)return 0;let{transitionDuration:u,transitionDelay:l}=window.getComputedStyle(t);const w=Number.parseFloat(u),I=Number.parseFloat(l);return!w&&!I?0:(u=u.split(",")[0],l=l.split(",")[0],(Number.parseFloat(u)+Number.parseFloat(l))*1e3)},v=t=>{t.dispatchEvent(new Event(o))},E=t=>!t||typeof t!="object"?!1:(typeof t.jquery<"u"&&(t=t[0]),typeof t.nodeType<"u"),g=t=>E(t)?t.jquery?t[0]:t:typeof t=="string"&&t.length>0?document.querySelector(n(t)):null,_=t=>{if(!E(t)||t.getClientRects().length===0)return!1;const u=getComputedStyle(t).getPropertyValue("visibility")==="visible",l=t.closest("details:not([open])");if(!l)return u;if(l!==t){const w=t.closest("summary");if(w&&w.parentNode!==l||w===null)return!1}return u},S=t=>!t||t.nodeType!==Node.ELEMENT_NODE||t.classList.contains("disabled")?!0:typeof t.disabled<"u"?t.disabled:t.hasAttribute("disabled")&&t.getAttribute("disabled")!=="false",N=t=>{if(!document.documentElement.attachShadow)return null;if(typeof t.getRootNode=="function"){const u=t.getRootNode();return u instanceof ShadowRoot?u:null}return t instanceof ShadowRoot?t:t.parentNode?N(t.parentNode):null},M=()=>{},T=t=>{t.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,O=[],U=t=>{document.readyState==="loading"?(O.length||document.addEventListener("DOMContentLoaded",()=>{for(const u of O)u()}),O.push(t)):t()},K=()=>document.documentElement.dir==="rtl",f=t=>{U(()=>{const u=k();if(u){const l=t.NAME,w=u.fn[l];u.fn[l]=t.jQueryInterface,u.fn[l].Constructor=t,u.fn[l].noConflict=()=>(u.fn[l]=w,t.jQueryInterface)}})},d=(t,u=[],l=t)=>typeof t=="function"?t(...u):l,b=(t,u,l=!0)=>{if(!l){d(t);return}const I=h(u)+5;let D=!1;const C=({target:R})=>{R===u&&(D=!0,u.removeEventListener(o,C),d(t))};u.addEventListener(o,C),setTimeout(()=>{D||v(u)},I)},y=(t,u,l,w)=>{const I=t.length;let D=t.indexOf(u);return D===-1?!l&&w?t[I-1]:t[0]:(D+=l?1:-1,w&&(D=(D+I)%I),t[Math.max(0,Math.min(D,I-1))])};s.defineJQueryPlugin=f,s.execute=d,s.executeAfterTransition=b,s.findShadowRoot=N,s.getElement=g,s.getNextActiveElement=y,s.getTransitionDurationFromElement=h,s.getUID=m,s.getjQuery=k,s.isDisabled=S,s.isElement=E,s.isRTL=K,s.isVisible=_,s.noop=M,s.onDOMContentLoaded=U,s.parseSelector=n,s.reflow=T,s.toType=e,s.triggerTransitionEnd=v,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(Q,Q.exports)),Q.exports}/*!
  * Bootstrap event-handler.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var mt;function z(){return mt||(mt=1,function(p,c){(function(s,i){p.exports=i(q())})(P,function(s){const i=/[^.]*(?=\..*)\.|.*/,r=/\..*/,o=/::\d+$/,n={};let e=1;const m={mouseenter:"mouseover",mouseleave:"mouseout"},h=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function v(f,d){return d&&`${d}::${e++}`||f.uidEvent||e++}function E(f){const d=v(f);return f.uidEvent=d,n[d]=n[d]||{},n[d]}function g(f,d){return function b(y){return K(y,{delegateTarget:f}),b.oneOff&&U.off(f,y.type,d),d.apply(f,[y])}}function _(f,d,b){return function y(t){const u=f.querySelectorAll(d);for(let{target:l}=t;l&&l!==this;l=l.parentNode)for(const w of u)if(w===l)return K(t,{delegateTarget:l}),y.oneOff&&U.off(f,t.type,d,b),b.apply(l,[t])}}function S(f,d,b=null){return Object.values(f).find(y=>y.callable===d&&y.delegationSelector===b)}function N(f,d,b){const y=typeof d=="string",t=y?b:d||b;let u=O(f);return h.has(u)||(u=f),[y,t,u]}function M(f,d,b,y,t){if(typeof d!="string"||!f)return;let[u,l,w]=N(d,b,y);d in m&&(l=(G=>function(A){if(!A.relatedTarget||A.relatedTarget!==A.delegateTarget&&!A.delegateTarget.contains(A.relatedTarget))return G.call(this,A)})(l));const I=E(f),D=I[w]||(I[w]={}),C=S(D,l,u?b:null);if(C){C.oneOff=C.oneOff&&t;return}const R=v(l,d.replace(i,"")),L=u?_(f,b,l):g(f,l);L.delegationSelector=u?b:null,L.callable=l,L.oneOff=t,L.uidEvent=R,D[R]=L,f.addEventListener(w,L,u)}function T(f,d,b,y,t){const u=S(d[b],y,t);u&&(f.removeEventListener(b,u,!!t),delete d[b][u.uidEvent])}function k(f,d,b,y){const t=d[b]||{};for(const[u,l]of Object.entries(t))u.includes(y)&&T(f,d,b,l.callable,l.delegationSelector)}function O(f){return f=f.replace(r,""),m[f]||f}const U={on(f,d,b,y){M(f,d,b,y,!1)},one(f,d,b,y){M(f,d,b,y,!0)},off(f,d,b,y){if(typeof d!="string"||!f)return;const[t,u,l]=N(d,b,y),w=l!==d,I=E(f),D=I[l]||{},C=d.startsWith(".");if(typeof u<"u"){if(!Object.keys(D).length)return;T(f,I,l,u,t?b:null);return}if(C)for(const R of Object.keys(I))k(f,I,R,d.slice(1));for(const[R,L]of Object.entries(D)){const $=R.replace(o,"");(!w||d.includes($))&&T(f,I,l,L.callable,L.delegationSelector)}},trigger(f,d,b){if(typeof d!="string"||!f)return null;const y=s.getjQuery(),t=O(d),u=d!==t;let l=null,w=!0,I=!0,D=!1;u&&y&&(l=y.Event(d,b),y(f).trigger(l),w=!l.isPropagationStopped(),I=!l.isImmediatePropagationStopped(),D=l.isDefaultPrevented());const C=K(new Event(d,{bubbles:w,cancelable:!0}),b);return D&&C.preventDefault(),I&&f.dispatchEvent(C),C.defaultPrevented&&l&&l.preventDefault(),C}};function K(f,d={}){for(const[b,y]of Object.entries(d))try{f[b]=y}catch{Object.defineProperty(f,b,{configurable:!0,get(){return y}})}return f}return U})}(et)),et.exports}var ot={exports:{}},nt={exports:{}};/*!
  * Bootstrap manipulator.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var gt;function xt(){return gt||(gt=1,function(p,c){(function(s,i){p.exports=i()})(P,function(){function s(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function i(o){return o.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`)}return{setDataAttribute(o,n,e){o.setAttribute(`data-bs-${i(n)}`,e)},removeDataAttribute(o,n){o.removeAttribute(`data-bs-${i(n)}`)},getDataAttributes(o){if(!o)return{};const n={},e=Object.keys(o.dataset).filter(m=>m.startsWith("bs")&&!m.startsWith("bsConfig"));for(const m of e){let h=m.replace(/^bs/,"");h=h.charAt(0).toLowerCase()+h.slice(1,h.length),n[h]=s(o.dataset[m])}return n},getDataAttribute(o,n){return s(o.getAttribute(`data-bs-${i(n)}`))}}})}(nt)),nt.exports}/*!
  * Bootstrap config.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var _t;function ct(){return _t||(_t=1,function(p,c){(function(s,i){p.exports=i(xt(),q())})(P,function(s,i){class r{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,e){const m=i.isElement(e)?s.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof m=="object"?m:{},...i.isElement(e)?s.getDataAttributes(e):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,e=this.constructor.DefaultType){for(const[m,h]of Object.entries(e)){const v=n[m],E=i.isElement(v)?"element":i.toType(v);if(!new RegExp(h).test(E))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${m}" provided type "${E}" but expected type "${h}".`)}}}return r})}(ot)),ot.exports}/*!
  * Bootstrap base-component.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var bt;function qt(){return bt||(bt=1,function(p,c){(function(s,i){p.exports=i(Ut(),z(),ct(),q())})(P,function(s,i,r,o){const n="5.3.2";class e extends r{constructor(h,v){super(),h=o.getElement(h),h&&(this._element=h,this._config=this._getConfig(v),s.set(this._element,this.constructor.DATA_KEY,this))}dispose(){s.remove(this._element,this.constructor.DATA_KEY),i.off(this._element,this.constructor.EVENT_KEY);for(const h of Object.getOwnPropertyNames(this))this[h]=null}_queueCallback(h,v,E=!0){o.executeAfterTransition(h,v,E)}_getConfig(h){return h=this._mergeConfigObj(h,this._element),h=this._configAfterMerge(h),this._typeCheckConfig(h),h}static getInstance(h){return s.get(o.getElement(h),this.DATA_KEY)}static getOrCreateInstance(h,v={}){return this.getInstance(h)||new this(h,typeof v=="object"?v:null)}static get VERSION(){return n}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(h){return`${h}${this.EVENT_KEY}`}}return e})}(Z)),Z.exports}var st={exports:{}};/*!
  * Bootstrap selector-engine.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var Et;function J(){return Et||(Et=1,function(p,c){(function(s,i){p.exports=i(q())})(P,function(s){const i=o=>{let n=o.getAttribute("data-bs-target");if(!n||n==="#"){let e=o.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),n=e&&e!=="#"?s.parseSelector(e.trim()):null}return n},r={find(o,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,o))},findOne(o,n=document.documentElement){return Element.prototype.querySelector.call(n,o)},children(o,n){return[].concat(...o.children).filter(e=>e.matches(n))},parents(o,n){const e=[];let m=o.parentNode.closest(n);for(;m;)e.push(m),m=m.parentNode.closest(n);return e},prev(o,n){let e=o.previousElementSibling;for(;e;){if(e.matches(n))return[e];e=e.previousElementSibling}return[]},next(o,n){let e=o.nextElementSibling;for(;e;){if(e.matches(n))return[e];e=e.nextElementSibling}return[]},focusableChildren(o){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(n,o).filter(e=>!s.isDisabled(e)&&s.isVisible(e))},getSelectorFromElement(o){const n=i(o);return n&&r.findOne(n)?n:null},getElementFromSelector(o){const n=i(o);return n?r.findOne(n):null},getMultipleElementsFromSelector(o){const n=i(o);return n?r.find(n):[]}};return r})}(st)),st.exports}var it={exports:{}};/*!
  * Bootstrap backdrop.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var yt;function Kt(){return yt||(yt=1,function(p,c){(function(s,i){p.exports=i(z(),ct(),q())})(P,function(s,i,r){const o="backdrop",n="fade",e="show",m=`mousedown.bs.${o}`,h={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},v={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class E extends i{constructor(_){super(),this._config=this._getConfig(_),this._isAppended=!1,this._element=null}static get Default(){return h}static get DefaultType(){return v}static get NAME(){return o}show(_){if(!this._config.isVisible){r.execute(_);return}this._append();const S=this._getElement();this._config.isAnimated&&r.reflow(S),S.classList.add(e),this._emulateAnimation(()=>{r.execute(_)})}hide(_){if(!this._config.isVisible){r.execute(_);return}this._getElement().classList.remove(e),this._emulateAnimation(()=>{this.dispose(),r.execute(_)})}dispose(){this._isAppended&&(s.off(this._element,m),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const _=document.createElement("div");_.className=this._config.className,this._config.isAnimated&&_.classList.add(n),this._element=_}return this._element}_configAfterMerge(_){return _.rootElement=r.getElement(_.rootElement),_}_append(){if(this._isAppended)return;const _=this._getElement();this._config.rootElement.append(_),s.on(_,m,()=>{r.execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(_){r.executeAfterTransition(_,this._getElement(),this._config.isAnimated)}}return E})}(it)),it.exports}var H={exports:{}};/*!
  * Bootstrap component-functions.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var At;function Yt(){return At||(At=1,function(p,c){(function(s,i){i(c,z(),J(),q())})(P,function(s,i,r,o){const n=(e,m="hide")=>{const h=`click.dismiss${e.EVENT_KEY}`,v=e.NAME;i.on(document,h,`[data-bs-dismiss="${v}"]`,function(E){if(["A","AREA"].includes(this.tagName)&&E.preventDefault(),o.isDisabled(this))return;const g=r.getElementFromSelector(this)||this.closest(`.${v}`);e.getOrCreateInstance(g)[m]()})};s.enableDismissTrigger=n,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})})}(H,H.exports)),H.exports}var rt={exports:{}};/*!
  * Bootstrap focustrap.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var vt;function Wt(){return vt||(vt=1,function(p,c){(function(s,i){p.exports=i(z(),J(),ct())})(P,function(s,i,r){const o="focustrap",e=".bs.focustrap",m=`focusin${e}`,h=`keydown.tab${e}`,v="Tab",E="forward",g="backward",_={autofocus:!0,trapElement:null},S={autofocus:"boolean",trapElement:"element"};class N extends r{constructor(T){super(),this._config=this._getConfig(T),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return _}static get DefaultType(){return S}static get NAME(){return o}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),s.off(document,e),s.on(document,m,T=>this._handleFocusin(T)),s.on(document,h,T=>this._handleKeydown(T)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,s.off(document,e))}_handleFocusin(T){const{trapElement:k}=this._config;if(T.target===document||T.target===k||k.contains(T.target))return;const O=i.focusableChildren(k);O.length===0?k.focus():this._lastTabNavDirection===g?O[O.length-1].focus():O[0].focus()}_handleKeydown(T){T.key===v&&(this._lastTabNavDirection=T.shiftKey?g:E)}}return N})}(rt)),rt.exports}var at={exports:{}};/*!
  * Bootstrap scrollbar.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var wt;function jt(){return wt||(wt=1,function(p,c){(function(s,i){p.exports=i(xt(),J(),q())})(P,function(s,i,r){const o=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",n=".sticky-top",e="padding-right",m="margin-right";class h{constructor(){this._element=document.body}getWidth(){const E=document.documentElement.clientWidth;return Math.abs(window.innerWidth-E)}hide(){const E=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,e,g=>g+E),this._setElementAttributes(o,e,g=>g+E),this._setElementAttributes(n,m,g=>g-E)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,e),this._resetElementAttributes(o,e),this._resetElementAttributes(n,m)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(E,g,_){const S=this.getWidth(),N=M=>{if(M!==this._element&&window.innerWidth>M.clientWidth+S)return;this._saveInitialAttribute(M,g);const T=window.getComputedStyle(M).getPropertyValue(g);M.style.setProperty(g,`${_(Number.parseFloat(T))}px`)};this._applyManipulationCallback(E,N)}_saveInitialAttribute(E,g){const _=E.style.getPropertyValue(g);_&&s.setDataAttribute(E,g,_)}_resetElementAttributes(E,g){const _=S=>{const N=s.getDataAttribute(S,g);if(N===null){S.style.removeProperty(g);return}s.removeDataAttribute(S,g),S.style.setProperty(g,N)};this._applyManipulationCallback(E,_)}_applyManipulationCallback(E,g){if(r.isElement(E)){g(E);return}for(const _ of i.find(E,this._element))g(_)}}return h})}(at)),at.exports}/*!
  * Bootstrap modal.js v5.3.2 (https://getbootstrap.com/)
  * Copyright 2011-2023 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(p,c){(function(s,i){p.exports=i(qt(),z(),J(),Kt(),Yt(),Wt(),q(),jt())})(P,function(s,i,r,o,n,e,m,h){const v="modal",g=".bs.modal",_=".data-api",S="Escape",N=`hide${g}`,M=`hidePrevented${g}`,T=`hidden${g}`,k=`show${g}`,O=`shown${g}`,U=`resize${g}`,K=`click.dismiss${g}`,f=`mousedown.dismiss${g}`,d=`keydown.dismiss${g}`,b=`click${g}${_}`,y="modal-open",t="fade",u="show",l="modal-static",w=".modal.show",I=".modal-dialog",D=".modal-body",C='[data-bs-toggle="modal"]',R={backdrop:!0,focus:!0,keyboard:!0},L={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class $ extends s{constructor(A,x){super(A,x),this._dialog=r.findOne(I,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new h,this._addEventListeners()}static get Default(){return R}static get DefaultType(){return L}static get NAME(){return v}toggle(A){return this._isShown?this.hide():this.show(A)}show(A){this._isShown||this._isTransitioning||i.trigger(this._element,k,{relatedTarget:A}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(y),this._adjustDialog(),this._backdrop.show(()=>this._showElement(A)))}hide(){!this._isShown||this._isTransitioning||i.trigger(this._element,N).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(u),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){i.off(window,g),i.off(this._dialog,g),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new o({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new e({trapElement:this._element})}_showElement(A){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const x=r.findOne(D,this._dialog);x&&(x.scrollTop=0),m.reflow(this._element),this._element.classList.add(u);const V=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,i.trigger(this._element,O,{relatedTarget:A})};this._queueCallback(V,this._dialog,this._isAnimated())}_addEventListeners(){i.on(this._element,d,A=>{if(A.key===S){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),i.on(window,U,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),i.on(this._element,f,A=>{i.one(this._element,K,x=>{if(!(this._element!==A.target||this._element!==x.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(y),this._resetAdjustments(),this._scrollBar.reset(),i.trigger(this._element,T)})}_isAnimated(){return this._element.classList.contains(t)}_triggerBackdropTransition(){if(i.trigger(this._element,M).defaultPrevented)return;const x=this._element.scrollHeight>document.documentElement.clientHeight,V=this._element.style.overflowY;V==="hidden"||this._element.classList.contains(l)||(x||(this._element.style.overflowY="hidden"),this._element.classList.add(l),this._queueCallback(()=>{this._element.classList.remove(l),this._queueCallback(()=>{this._element.style.overflowY=V},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const A=this._element.scrollHeight>document.documentElement.clientHeight,x=this._scrollBar.getWidth(),V=x>0;if(V&&!A){const j=m.isRTL()?"paddingLeft":"paddingRight";this._element.style[j]=`${x}px`}if(!V&&A){const j=m.isRTL()?"paddingRight":"paddingLeft";this._element.style[j]=`${x}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(A,x){return this.each(function(){const V=$.getOrCreateInstance(this,A);if(typeof A=="string"){if(typeof V[A]>"u")throw new TypeError(`No method named "${A}"`);V[A](x)}})}}return i.on(document,b,C,function(G){const A=r.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&G.preventDefault(),i.one(A,k,j=>{j.defaultPrevented||i.one(A,T,()=>{m.isVisible(this)&&this.focus()})});const x=r.findOne(w);x&&$.getInstance(x).hide(),$.getOrCreateInstance(A).toggle(this)}),n.enableDismissTrigger($),m.defineJQueryPlugin($),$})})(St);var zt=St.exports;const Qt=Mt(zt);var Ht={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:Jt,VITE_PATH:Gt}=Ht,Xt={data(){return{modal:null,dropArea:null,accept:["jpg","jpeg","png"]}},methods:{openModal(){this.modal.show()},closeModal(){this.modal.hide()},handleFile(p){const c=p.target.files[0];if(console.log(c),c.size/(1024*1024)>3)return this.$swal.fire({icon:"error",text:"請上傳 3MB 以內的圖檔"}),this.resetDropArea(),!1;const r=c.type.split("/")[1];if(!this.accept.find(n=>n===r))return this.$swal.fire({icon:"error",text:"僅限使用 jpg、jpeg 與 png 格式圖檔"}),this.resetDropArea(),!1},uploadImage(p){const c=this.$loading.show(),s=new FormData;s.append("file-to-upload",p),this.axios.post(`${Jt}/api/${Gt}/admin/upload`,s).then(function(i){console.log(i.data.imageUrl),this.$swal.fire({icon:"success",text:"上傳成功"}).then(r=>{this.closeModal()})}).catch(i=>{this.$swal.fire({icon:"error",text:i.response.data.message})}).finally(()=>{c.hide()})},resetDropArea(){this.dropArea.value=""}},mounted(){this.modal=new Qt(this.$refs.uploadImageModal,{keyboard:!1,backdrop:"static"}),this.dropArea=this.$refs.dropArea}},Zt={ref:"uploadImageModal",class:"modal fade","aria-hidden":"true","aria-labelledby":"exampleModalToggleLabel",tabindex:"-1"},te={class:"modal-dialog modal-dialog-centered"},ee={class:"modal-content"},oe=Ot('<div class="modal-header border-0"><h5 class="modal-title text-bold">上傳圖片</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><ul class="nav nav-tabs px-1"><li class="nav-item"><a class="nav-link text-secondary active" aria-current="page" href="#">上傳檔案</a></li><li class="nav-item"><a class="nav-link text-secondary" href="#">以圖片連結新增</a></li></ul>',2),ne={class:"modal-body"},se={class:"drop-area"},ie=["accept"],re=a("div",{class:"modal-footer"},[a("button",{type:"button",class:"btn btn-dark"},"送出")],-1);function ae(p,c,s,i,r,o){return B(),F("div",Zt,[a("div",te,[a("div",ee,[oe,a("div",ne,[a("div",se,[a("input",{type:"file",class:"",ref:"dropArea",accept:r.accept,onChange:c[0]||(c[0]=(...n)=>o.handleFile&&o.handleFile(...n))},null,40,ie)])]),re])])],512)}const le=It(Xt,[["render",ae]]),ce=Tt(),lt=Dt(),ue={data(){return{tempProductInfo:{},tempCategoryList:[]}},methods:{getProductInfo(p,c){this.tempProductInfo=p[c],console.log("productInfo 的 getProductInfo",this.tempProductInfo)},chooseCategory(p){this.tempProductInfo.category=p},deleteImage(p,c){p==="imageUrl"?this.tempProductInfo.imageUrl="":p==="imagesUrl"?this.tempProductInfo.imagesUrl.splice(c,1):(this.tempProductInfo.imageUrl="",this.tempProductInfo.imagesUrl=[])},openImageModal(){this.$refs.uploadImageModal.openModal()},async fetchData(){try{await ce.checkLogin(),console.log("productInfo 確認登入");const p=await lt.getAllProducts();console.log("productInfo 拿到 productStore 給的資料了",p);const c=this.$route.params.id;this.getProductInfo(lt.allProducts,c),this.tempCategoryList=[...lt.categoryList]}catch(p){console.log(p.response.data.message)}}},computed:{...ut(Tt),...ut(Dt)},components:{uploadImageModal:le},mounted(){console.log("ProductInfo 的 mounted，即將執行確認登入"),this.fetchData()}},de={class:"container overflow-y-scroll scrollbar-y-hide vh-100"},fe=a("h2",{class:"py-5 h2"},"編輯商品",-1),he={class:"mb-5"},pe=a("h5",{class:"mb-3 h5 fw-bold"},"商品圖片",-1),me=a("p",{class:"mb-3"},"※ 建議上傳方形圖片，以免影響前台效果",-1),ge={class:"row g-1 mb-3"},_e={class:"col-6 col-md-2"},be={class:"position-relative border border-1 h-100"},Ee=a("i",{class:"bi bi-trash"},null,-1),ye=[Ee],Ae=a("div",{class:"position-absolute bottom-0 py-1 text-center text-white bg-dark opacity-75 w-100"}," 封面圖片 ",-1),ve=["src"],we={key:2,class:"d-flex flex-column align-items-center justify-content-center h-100 bg-light"},Te=a("i",{class:"bi bi-image mb-2"},null,-1),Ie=a("p",null,"目前無封面",-1),De=[Te,Ie],Se={class:"position-relative border border-1"},xe=["onClick"],Ce=a("i",{class:"bi bi-trash"},null,-1),Ne=[Ce],Me=["src"],Oe={class:"col-6 col-md-2"},ke=a("i",{class:"bi bi-trash me-2"},null,-1),Pe=a("span",null,"刪除所有圖片",-1),Le=[ke,Pe],Ve=a("h5",{class:"mb-3 h5 fw-bold"},"商品基本資訊",-1),Re={class:"d-flex flex-column gap-3"},$e={"d-flex":""},Be=a("label",{for:"name",class:"form-label fw-bold"},"商品名稱",-1),Fe={class:"row"},Ue={class:"col-md-6"},qe=a("label",{for:"category",class:"form-label fw-bold"},"商品分類",-1),Ke={class:"d-flex align-items-center text-nowrap"},Ye=a("span",null,"點擊帶入分類：",-1),We={class:"d-flex gap-1 mb-0 flex-wrap"},je=["onClick"],ze={class:"col-md-6"},Qe=a("label",{for:"unit",class:"form-label fw-bold"},"商品單位",-1),He={class:"row"},Je={class:"col-md-6"},Ge=a("label",{for:"origin_price",class:"form-label fw-bold"},"原價",-1),Xe={class:"col-md-6"},Ze=a("label",{for:"price",class:"form-label fw-bold"},"售價",-1),to=a("label",{for:"description",class:"form-label fw-bold"},"商品描述",-1),eo=a("label",{for:"content",class:"form-label fw-bold"},"說明內容",-1),oo=a("div",{class:"d-flex justify-content-end gap-2 pt-3"},[a("button",{type:"button",class:"btn btn-outline-dark","data-bs-dismiss":"modal"}," 取消 "),a("button",{type:"button",class:"btn btn-dark text-white"},"確認")],-1);function no(p,c,s,i,r,o){const n=kt("uploadImageModal");return B(),F(X,null,[a("div",de,[fe,a("div",null,[a("div",he,[pe,me,a("div",ge,[a("div",_e,[a("div",be,[r.tempProductInfo.imageUrl?(B(),F("button",{key:0,type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"},onClick:c[0]||(c[0]=e=>o.deleteImage("imageUrl",p.idx))},ye)):Pt("",!0),Ae,r.tempProductInfo.imageUrl?(B(),F("img",{key:1,class:"d-block mx-auto img-radio-1x1",src:r.tempProductInfo.imageUrl,alt:"picture"},null,8,ve)):(B(),F("div",we,De))])]),(B(!0),F(X,null,dt(r.tempProductInfo.imagesUrl,(e,m)=>(B(),F("div",{class:"col-6 col-md-2",key:m},[a("div",Se,[a("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"},onClick:h=>o.deleteImage("imagesUrl",m)},Ne,8,xe),a("img",{class:"d-block mx-auto img-radio-1x1",src:e,alt:"picture"},null,8,Me)])]))),128)),a("div",Oe,[a("button",{onClick:c[1]||(c[1]=(...e)=>o.openImageModal&&o.openImageModal(...e)),class:"d-flex align-items-center justify-content-center border border-1 img-radio-1x1 w-100 text-secondary",type:"button"}," 新增圖片 ")])]),a("button",{typs:"button",class:"p-0 btn text-danger",onClick:c[2]||(c[2]=(...e)=>o.deleteImage&&o.deleteImage(...e))},Le)]),Lt(" "+ft(r.tempProductInfo)+" ",1),a("div",null,[Ve,a("form",Re,[a("div",$e,[Be,Y(a("input",{type:"text",id:"name",class:"form-control",placeholder:"請輸入商品名稱","onUpdate:modelValue":c[3]||(c[3]=e=>r.tempProductInfo.title=e)},null,512),[[W,r.tempProductInfo.title]])]),a("div",Fe,[a("div",Ue,[qe,Y(a("input",{type:"text",id:"category",class:"form-control mb-1",placeholder:"請輸入商品分類","onUpdate:modelValue":c[4]||(c[4]=e=>r.tempProductInfo.category=e)},null,512),[[W,r.tempProductInfo.category]]),a("div",Ke,[Ye,a("div",We,[(B(!0),F(X,null,dt(r.tempCategoryList,(e,m)=>(B(),F("button",{class:"btn btn-light rounded-pill py-1",value:"item",key:m,onClick:h=>o.chooseCategory(e)},ft(e),9,je))),128))])])]),a("div",ze,[Qe,Y(a("input",{type:"text",id:"unit",class:"form-control",placeholder:"請輸入商品單位","onUpdate:modelValue":c[5]||(c[5]=e=>r.tempProductInfo.unit=e)},null,512),[[W,r.tempProductInfo.unit]])])]),a("div",He,[a("div",Je,[Ge,Y(a("input",{type:"number",id:"origin_price",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":c[6]||(c[6]=e=>r.tempProductInfo.origin_price=e)},null,512),[[W,r.tempProductInfo.origin_price,void 0,{number:!0}]])]),a("div",Xe,[Ze,Y(a("input",{type:"number",id:"price",class:"form-control",placeholder:"請輸入商品售價","onUpdate:modelValue":c[7]||(c[7]=e=>r.tempProductInfo.price=e)},null,512),[[W,r.tempProductInfo.price,void 0,{number:!0}]])])]),a("div",null,[to,Y(a("textarea",{type:"text",id:"description",class:"form-control",placeholder:"請輸入商品描述","onUpdate:modelValue":c[8]||(c[8]=e=>r.tempProductInfo.description=e)},null,512),[[W,r.tempProductInfo.description]])]),a("div",null,[eo,Y(a("textarea",{type:"text",id:"content",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":c[9]||(c[9]=e=>r.tempProductInfo.content=e)},null,512),[[W,r.tempProductInfo.content]])])])])]),oo]),Vt(n,{ref:"uploadImageModal"},null,512)],64)}const ao=It(ue,[["render",no]]);export{ao as default};
