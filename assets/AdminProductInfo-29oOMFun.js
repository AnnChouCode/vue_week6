import{I as p,J as m,_ as f,V as _,o as r,c as i,a as t,F as b,r as h,L as n,R as c}from"./index-S7xo-Gxh.js";import{s as g}from"./sweetalert2.all-vk7on6Fu.js";var v={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:y,VITE_PATH:x}=v,a=p("adminProducts",{state:()=>({allProducts:[],categoryList:[]}),actions:{getAllProducts(){const l=`${y}/api/${x}/admin/products/all`;return m.get(l).then(o=>(this.allProducts=o.data.products,this.getCategoryList(),o.data.products)).catch(o=>{g.fire({icon:"error",text:o.response.data.message})})},getCategoryList(){const l=Object.values(this.allProducts),o=new Set(l.map(d=>d.category));this.categoryList=[...o],console.log(this.categoryList)}}}),I=a(),w={data(){return{productInfo:{}}},methods:{getProductInfo(l,o){this.productInfo=l[o],console.log(this.productInfo)}},computed:{..._(a)},mounted(){const l=this.$route.params.id;I.getAllProducts().then(o=>{this.getProductInfo(o,l)}).catch(o=>{console.error("Failed to fetch products:",o)})}},P={class:"container overflow-y-scroll scrollbar-y-hide vh-100"},V=t("h2",{class:"py-5 h2"},"編輯商品",-1),k={class:"mb-5"},A=t("h5",{class:"mb-3 h5 fw-bold"},"商品圖片",-1),L={class:"row g-1 mb-3"},U={class:"col-3"},E={class:"position-relative border border-1"},S=t("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"}},[t("i",{class:"bi bi-trash"})],-1),T=t("div",{class:"position-absolute bottom-0 py-1 text-center text-white bg-dark opacity-75 w-100"}," 封面圖片 ",-1),j=["src"],B={class:"position-relative border border-1"},D=t("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"}},[t("i",{class:"bi bi-trash"})],-1),R=["src"],F=t("div",{class:"col-3"},[t("div",{class:"d-flex align-items-center justify-content-center border border-1 productmodal-imgstock"},[t("p",{class:"text-secondary"},"新增圖片")])],-1),O=t("button",{typs:"button",class:"p-0 btn text-danger"},[t("i",{class:"bi bi-trash me-2"}),t("span",null,"刪除所有圖片")],-1),C=t("h5",{class:"mb-3 h5 fw-bold"},"商品基本資訊",-1),H={class:"d-flex flex-column gap-3"},M={"d-flex":""},J=t("label",{for:"name",class:"form-label fw-bold"},"商品名稱",-1),N={class:"row"},q=t("div",{class:"col-md-6"},[t("label",{for:"category",class:"form-label fw-bold"},"商品分類"),t("input",{type:"text",id:"category",class:"form-control",placeholder:"請輸入商品分類"})],-1),z={class:"col-md-6"},G=t("label",{for:"unit",class:"form-label fw-bold"},"商品單位",-1),K={class:"row"},Q={class:"col-md-6"},W=t("label",{for:"origin_price",class:"form-label fw-bold"},"原價",-1),X={class:"col-md-6"},Y=t("label",{for:"price",class:"form-label fw-bold"},"售價",-1),Z=t("label",{for:"description",class:"form-label fw-bold"},"商品描述",-1),$=t("label",{for:"content",class:"form-label fw-bold"},"說明內容",-1),tt=t("div",{class:"d-flex justify-content-end gap-2 pt-3"},[t("button",{type:"button",class:"btn btn-outline-dark","data-bs-dismiss":"modal"}," 取消 "),t("button",{type:"button",class:"btn btn-dark text-white"},"確認")],-1);function ot(l,o,d,st,s,et){return r(),i("div",P,[V,t("div",null,[t("div",k,[A,t("div",L,[t("div",U,[t("div",E,[S,T,t("img",{class:"d-block mx-auto productmodal-imgstock",src:s.productInfo.imageUrl,alt:"picture"},null,8,j)])]),(r(!0),i(b,null,h(s.productInfo.imagesUrl,(e,u)=>(r(),i("div",{class:"col-3",key:u},[t("div",B,[D,t("img",{class:"d-block mx-auto productmodal-imgstock",src:e,alt:"picture"},null,8,R)])]))),128)),F]),O]),t("div",null,[C,t("form",H,[t("div",M,[J,n(t("input",{type:"text",id:"name",class:"form-control",placeholder:"請輸入商品名稱","onUpdate:modelValue":o[0]||(o[0]=e=>s.productInfo.title=e)},null,512),[[c,s.productInfo.title]])]),t("div",N,[q,t("div",z,[G,n(t("input",{type:"text",id:"unit",class:"form-control",placeholder:"請輸入商品單位","onUpdate:modelValue":o[1]||(o[1]=e=>s.productInfo.unit=e)},null,512),[[c,s.productInfo.unit]])])]),t("div",K,[t("div",Q,[W,n(t("input",{type:"number",id:"origin_price",class:"form-control",placeholder:"請輸入原價","onUpdate:modelValue":o[2]||(o[2]=e=>s.productInfo.origin_price=e)},null,512),[[c,s.productInfo.origin_price,void 0,{number:!0}]])]),t("div",X,[Y,n(t("input",{type:"number",id:"price",class:"form-control",placeholder:"請輸入商品售價","onUpdate:modelValue":o[3]||(o[3]=e=>s.productInfo.price=e)},null,512),[[c,s.productInfo.price,void 0,{number:!0}]])])]),t("div",null,[Z,n(t("textarea",{type:"text",id:"description",class:"form-control",placeholder:"請輸入商品描述","onUpdate:modelValue":o[4]||(o[4]=e=>s.productInfo.description=e)},null,512),[[c,s.productInfo.description]])]),t("div",null,[$,n(t("textarea",{type:"text",id:"content",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":o[5]||(o[5]=e=>s.productInfo.content=e)},null,512),[[c,s.productInfo.content]])])])])]),tt])}const ct=f(w,[["render",ot]]);export{ct as default};
