import{I as d,J as u,_ as p,V as m,o as l,c,f as b,t as f,a as t,F as h,r as _}from"./index-Om7DNDpb.js";import{s as g}from"./sweetalert2.all-y4Lucn5b.js";var y={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"annchou",BASE_URL:"/vue_week6/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:v,VITE_PATH:x}=y,a=d("adminProducts",{state:()=>({allProducts:[],categoryList:[]}),actions:{getAllProducts(){const s=`${v}/api/${x}/admin/products/all`;return u.get(s).then(o=>(this.allProducts=o.data.products,this.getCategoryList(),o.data)).catch(o=>{g.fire({icon:"error",text:o.response.data.message})})},getCategoryList(){const s=Object.values(this.allProducts),o=new Set(s.map(r=>r.category));this.categoryList=[...o],console.log(this.categoryList)}}}),w=a(),I={data(){return{productInfo:{}}},methods:{getProductInfo(s,o){this.productInfo=s.id}},computed:{...m(a)},mounted(){const s=this.$route.params.id;w.getAllProducts().then(o=>{this.getProductInfo(o,s)}).catch(o=>{console.error("Failed to fetch products:",o)})}},P={class:"container overflow-y-scroll scrollbar-y-hide vh-100"},k=t("h2",{class:"py-5 h2"},"編輯商品",-1),A={class:"mb-5"},S=t("h5",{class:"mb-3 h5 fw-bold"},"商品圖片",-1),E={class:"row g-1 mb-3"},L={class:"col-3"},V={class:"position-relative border border-1"},T=t("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"}},[t("i",{class:"bi bi-trash"})],-1),j=t("div",{class:"position-absolute bottom-0 py-1 text-center text-white bg-dark opacity-75 w-100"}," 封面圖片 ",-1),B=["src"],D={class:"position-relative border border-1"},$=t("button",{type:"button",class:"position-absolute top-0 end-0 d-flex justify-content-center align-items-center mt-2 me-2 btn btn-light",style:{width:"36px",height:"36px"}},[t("i",{class:"bi bi-trash"})],-1),F=["src"],O=t("div",{class:"col-3"},[t("div",{class:"d-flex align-items-center justify-content-center border border-1 productmodal-imgstock"},[t("p",{class:"text-secondary"},"選擇圖片")])],-1),R=t("button",{typs:"button",class:"p-0 btn text-danger"},[t("i",{class:"bi bi-trash me-2"}),t("span",null,"刪除所有圖片")],-1),U=t("div",null,[t("h5",{class:"mb-3 h5 fw-bold"},"商品基本資訊"),t("form",{class:"d-flex flex-column gap-3"},[t("div",{"d-flex":""},[t("label",{for:"name",class:"form-label fw-bold"},"商品名稱"),t("input",{type:"text",id:"name",class:"form-control",placeholder:"請輸入商品名稱"})]),t("div",{class:"row"},[t("div",{class:"col-md-6"},[t("label",{for:"category",class:"form-label fw-bold"},"商品分類"),t("input",{type:"text",id:"category",class:"form-control",placeholder:"請輸入商品分類"})]),t("div",{class:"col-md-6"},[t("label",{for:"unit",class:"form-label fw-bold"},"商品單位"),t("input",{type:"text",id:"unit",class:"form-control",placeholder:"請輸入商品單位"})])]),t("div",{class:"row"},[t("div",{class:"col-md-6"},[t("label",{for:"origin_price",class:"form-label fw-bold"},"原價"),t("input",{type:"number",id:"origin_price",class:"form-control",placeholder:"請輸入原價"})]),t("div",{class:"col-md-6"},[t("label",{for:"price",class:"form-label fw-bold"},"售價"),t("input",{type:"number",id:"price",class:"form-control",placeholder:"請輸入商品售價"})])]),t("div",null,[t("label",{for:"description",class:"form-label fw-bold"},"商品描述"),t("textarea",{type:"text",id:"category",class:"form-control",placeholder:"請輸入商品描述"})]),t("div",null,[t("label",{for:"content",class:"form-label fw-bold"},"說明內容"),t("textarea",{type:"text",id:"content",class:"form-control",placeholder:"請輸入說明內容"})])])],-1),C=t("div",{class:"d-flex justify-content-end gap-2 pt-3"},[t("button",{type:"button",class:"btn btn-outline-dark","data-bs-dismiss":"modal"}," 取消 "),t("button",{type:"button",class:"btn btn-dark text-white"},"確認")],-1);function H(s,o,r,N,e,J){return l(),c("div",P,[k,b(" "+f(e.productInfo)+" ",1),t("div",null,[t("div",A,[S,t("div",E,[t("div",L,[t("div",V,[T,j,t("img",{class:"d-block mx-auto productmodal-imgstock",src:e.productInfo.imageUrl,alt:"picture"},null,8,B)])]),(l(!0),c(h,null,_(e.productInfo.imagesUrl,(i,n)=>(l(),c("div",{class:"col-3",key:n},[t("div",D,[$,t("img",{class:"d-block mx-auto productmodal-imgstock",src:i,alt:"picture"},null,8,F)])]))),128)),O]),R]),U]),C])}const z=p(I,[["render",H]]);export{z as default};
